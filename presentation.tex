% !TEX program = xelatex

%%% Local Variables: 
%%% coding: utf-8
%%% mode: latex
%%% TeX-engine: xetex
%%% End:

\documentclass[english]{beamer}
\usepackage{mathptmx}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{prftree, bussproofs}
\usepackage{fancyvrb}
\usepackage{soul}
\usepackage{booktabs}


\usepackage{import}
\usepackage{xifthen}
\usepackage{pdfpages}
\usepackage{transparent}

\newcommand{\incfig}[1]{%
    \def\svgwidth{\columnwidth}
    \import{./figures/}{#1.pdf_tex}
}


\usepackage{fontspec}
\setmonofont[Scale=0.9]{FreeMono}

\newtheorem{property}[theorem]{Property}
\newtheorem{axiom}[theorem]{Axiom}

\global\long\def\evidence#1{\left\llbracket#1\right\rrbracket}
\newcommand{\form}[1]{\scalebox{1.087}{\boldmath{#1}}}
\global\long\def\ctx{\text{\ensuremath{\mathcal{\text{Ctx}}}}}%
\global\long\def\set{\text{\textbf{Set}}}%
\global\long\def\ty#1{\text{Ty}\left(#1\right)}%
\global\long\def\tm#1#2{\text{Tm}\left(#1,#2\right)}%

\newcommand{\coe}[2]{\int_{#1}{#2}}
\newcommand{\homo}[3]{\text{Hom}_{#1}\left(#2,#3\right)}
\newcommand{\type}{\mathcal{U}}
\newcommand{\pa}[3]{\texttt{Path}_{#1}\left(#2, #3\right)}
\newcommand{\compt}[5]{\texttt{comp}^{#1} \ {#2} \ \left[{#3} \mapsto{#4} \right] \ {#5}}
\newcommand{\fillt}[5]{\texttt{fill}^{#1} \ {#2} \ \left[{#3} \mapsto{#5} \right] \ {#5}}

\newcommand{\isequiv}[3]{\texttt{isEquiv} \ #1 \ #2 \ #3}

\usepackage{graphicx}

\newcommand{\fig}[2]{
    \begin{figure}\begin{center}\includegraphics[width=0.6\textwidth,height=0.6\textheight,keepaspectratio=true]{figures/#1}\caption{#2\label{#1}}\end{center}
    \end{figure}}

\newcommand{\tcol}[2]{
    \begin{columns}
        \column{.5\textwidth}
        #1
        \column{.5\textwidth}
        #2
    \end{columns}
}

\usepackage{tikz,tikz-cd}
\usepackage{tkz-graph}
\usetikzlibrary{decorations.markings,calc}
\usetikzlibrary{shapes.geometric}

\GraphInit[vstyle = Classic]
\tikzset{
LabelStyle/.style = { %rectangle, %draw,
                        minimum width = 2em, %fill = white!50,
                        text = black, font = \bfseries },
  VertexStyle/.append style = { shape = circle,
  								fill = black,
  								minimum size = 2pt,
  								inner sep=2pt,
                                %font = \Large\bfseries
                                	},
  EdgeStyle/.append style = {->, bend left} }


\pgfdeclarelayer{edgelayer}
\pgfdeclarelayer{nodelayer}
\pgfsetlayers{edgelayer,nodelayer,main}

\tikzstyle{none}=[inner sep=0pt]


\tikzstyle{simple}=[-,draw=black,line width=1.000]
\tikzstyle{arrow}=[-,draw=black,postaction={decorate},decoration={markings,mark=at position 0.5 with {\arrow{>}}}]

\usepackage{graphicx}
\usepackage{multimedia}

\makeatletter

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% LyX specific LaTeX commands.
%% Because html converters don't know tabularnewline
\providecommand{\tabularnewline}{\\}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Textclass specific LaTeX commands.
% this default might be overridden by plain title style
\newcommand\makebeamertitle{\frame{\maketitle}}%
% (ERT) argument for the TOC 
\AtBeginDocument{%
  \let\origtableofcontents=\tableofcontents
  \def\tableofcontents{\@ifnextchar[{\origtableofcontents}{\gobbletableofcontents}]}
  \def\gobbletableofcontents#1{\origtableofcontents}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% User specified LaTeX commands.
\usetheme{default}
% or ...dff

\setbeamercovered{transparent}
% or whatever (possibly just delete it)


\addtobeamertemplate{navigation symbols}{}{%
    \usebeamerfont{footline}%
    \usebeamercolor[fg]{footline}%
    \hspace{1em}%
    \insertframenumber/\inserttotalframenumber{}
}

\makeatother

\usepackage{babel}
\begin{document}
\title[Cubical models for Univalence]{The Constructive Model of \\ Univalence in  Cubical Sets}
\subtitle{Literature review}
\author[W. Vanhulle]{W. Vanhulle\inst{1} \and A. Nuyts\inst{2}\and D. Devriese\inst{3}}
\institute[KUL]{\inst{1}Student \and \inst{2}Supervisor \and \inst{3}Promoter}
\date[30/05/19]{45 min.~public seminar}

\makebeamertitle

\pgfdeclareimage[height=0.5cm]{institution-logo}{figures/kuleuven}
\logo{\pgfuseimage{institution-logo}}

\AtBeginSubsection[]{%
  \frame<beamer>{ 
    \frametitle{Outline}   
    \tableofcontents[currentsection,currentsubsection] 
  }
}

%\beamerdefaultoverlayspecification{<+->}
\begin{frame}{Outline}

\tableofcontents{}

\end{frame}

\section{Introduction}

\begin{frame}{Introduction}
    \setbeamercovered{invisible}
    A mathematician is asked by a friend who is a devout Christian: ``Do you believe in one God?'' 
    \begin{quotation}
    What does he reply?
    \end{quotation}
    \pause{}
    
    
    He answers: ``Yes -- up to isomorphism.'' (Â© Michael Benjamin Stepp)

\fig{isomorphism}{Isomorphisms in nature.}
\end{frame}


\begin{frame}{Algebraic Topology}

Isomorphism in algebraic topology is ``homotopy equivalence''

\begin{columns}
    \column{.5\textwidth}
    \fig{mug}{A mug}
    \column{.5\textwidth}
    \fig{donut.jpg}{A donut}
\end{columns}

homotopy equivalent spaces have the same ``number of \(n\)-dimensional holes''

\end{frame}


\begin{frame}{Holes are homotopy groups}

computed by looking at homotopy classes of \emph{continous} embeddings \[S^n \rightarrow X, \quad \text{or } {[0,1]}^n \rightarrow X\]

\tcol{
                \fig{loops}{A donut has two 1-dimensional homotopy classes.}
}
    {
                \fig{basketball_hollow}{A ball without center has two 2-dimensional homotopy classes.}
}

\end{frame}




\begin{frame}{Type theory's origin}{Russel, 1907}

Invented to prevent paradox:


    \[ R = \{x \mid x \not \in x \}, R\in R \Leftrightarrow \not \in R \]
    

Solution was:
\begin{itemize}
\item replace sets (and propositions) by types and elements by terms, $$x \in R \Rightarrow x : R$$
\item types belong to universe hierarchy 
        \[\exists i, R : \mathcal{U}_i, \quad \mathcal{U}_0 : \mathcal{U}_1 : \ldots \]
\item constructive logic and formation rules
\end{itemize}

\begin{quotation}
$x \not \in x$ is not a valid proposition anymore
\end{quotation}

\end{frame}


\begin{frame}{Type theory}
    
    Two meanings/subfields:
    \begin{itemize}
        \item verifying computation in programming languages
        \begin{figure}
            \input{figures/haskell.verbatim}
            \caption{A typed recursive function in Haskell}
        \end{figure}
    
        \pause{}
        \item alternative constructive foundation of mathematics
        \begin{figure}
            \input{figures/agda_comp.verbatim}
            \caption{Definition of the topological space \(S^1\) in Agda}
        \end{figure}
    
    \end{itemize}

    
\end{frame}

\begin{frame}{Type theory as foundation for mathematics}

    Deductive system of judgements with typing rules:


    \begin{prooftree}
        \AxiomC{$\Gamma \vdash f : A \rightarrow B$}
        \AxiomC{$\Gamma \vdash a : A$}
        \BinaryInfC{$\Gamma \vdash b : B$}
    \end{prooftree}

    \begin{itemize}
    \item judgments express wether a type is inhabited
    \item all judgements have contexts
    \item typing rules tell how to form and combine types and terms
    \end{itemize}
    
\end{frame}


\begin{frame}{Equality in type theory}{Martin-L\"of, 1984}
    
    Definitional equality in type theory is for type checking, ``denoted \texttt{=}'' in code:

    \begin{figure}
    \input{figures/definitional.verbatim}
    \caption{An example of definitional equality.}
    \end{figure}
    
    Mathematics needs a ``softer'' equality as in:
    
    \begin{example}[Leibniz's extensionality principle]
     \[f = g \Leftrightarrow f(x) = g(x), \forall x \]
    \end{example}


\end{frame}

\begin{frame}{Identity type}{Martin-L\"of, 1984}

    \begin{quotation}
        ... introduction of propositional equality in form of ``identity type''
    \end{quotation}

    \begin{definition}[Introduction rule]
        Given a $a : X$, $\texttt{refl}(a): a = a$.
    \end{definition}

       Elimination rule of equality type:

    \begin{definition}[path induction]
            Given the following terms:
        \begin{itemize}
            \item a predicate \(C : \prod_{x,y:A} (x =_A y) \rightarrow \mathcal{U}\)
            \item the base step \(c:\prod_{x:A} C(x,x,\texttt{refl}_x)\)
        \end{itemize}
            there is a function \(f: \prod_{x,y:A} \prod_{p:x=_Ay}C(x,y,p)\) such that \(f(x,x,\texttt{refl}_x) \equiv c(x)\).
        
    \end{definition}

       \begin{itemize}
        \item weaker than equality ``by definition''.
        \item stronger than equivalence.
    \end{itemize}
    
\end{frame}

\begin{frame}{Intuition identity eliminator}

    Role of eliminator:
    \begin{quotation}
        To prove a property \(C\) that depends on terms $x,y$ and equalities $p:x=y$  it suffices to consider all the cases where
        
        \begin{itemize}
            \item $x$ is definitionally equal to $y$
            \item the term of the intensional equality type under consideration is $\texttt{refl}_x : x = x$.
        \end{itemize}
        \end{quotation}

        Implications:
        \begin{itemize}
            \item proves transitivity, symmetry
            \item equality type can have multiple terms
        \end{itemize}

\end{frame}


\begin{frame}{Homotopy type theory (HoTT)}{Awodey, 2006}

Gives \emph{homotopy} interpretation to equality type:

%\includegraphics[width=0.8\textwidth]{figures/}
\centering
$$ p,q : a =_X b \quad r,s : p =_{\texttt{Id}_X(a,b)} q$$ 

\input{figures/homotopy.tikz}


$\Rightarrow$ alternative foundations for mathematics based on type theory and topology

\end{frame}

% \begin{frame}{Short history of HoTT }

% \begin{itemize}
%  \item groupoid model, Hofmann  (1996)
%  \item univalence axiom, Voevodsky (2009)
%  \item univalent foundations, Voevodsky, Grayson, Coquand (2013)
% \end{itemize}

% \begin{figure}[h!]
% \centering    
% \includegraphics[width=0.7\textwidth]{figures/HoTT-pic.png}
%   \caption{Univalent foundations 2013--2014}
%  \end{figure} 


% \end{frame}

\begin{frame}{Consequences of univalence axiom}{Voevodsky, 2009}

\begin{axiom}[Univalence axiom] 
 Given types $X,Y : \mathcal{U}$ for some universe $\mathcal{U}$, the map \(\Phi_{X,Y}: (X=Y) \rightarrow (X \simeq Y)\) is an equivalence of types. 
\end{axiom}

\begin{itemize}
    \item equivalence of types is a bijection for set-like types \[\mathbb{N} \simeq \mathbb{N}_0 \]
    \item univalence implies \[\mathbb{N} \simeq \mathbb{N}_0 \Rightarrow \mathbb{N} = \mathbb{N}\]

    \item forces multiple terms of equality
\end{itemize}

\pause
\begin{quotation}
$\Rightarrow$ terms of equality are paths
\end{quotation}

% \begin{figure}[h!]
% \centering    
% \includegraphics[width=0.5\textwidth]{figures/seifert.png}
%   \caption{Seifert-Van Kampen theorem in HoTT. Hou, Shulman (2016)}
%  \end{figure} 



\end{frame}

\begin{frame}[fragile]
    \frametitle{Consequences of path interpretation}
     
     
     \tcol{

        in general:
        \begin{itemize}
          \item equivalence behaves like homotopy equivalence
            \item mathematics ``up to homotopy''
            \item lifting of path $p$ as in  algebraic topology: \emph{transport} gives the other ending point of $p_\star$
        \end{itemize}
     }
     {
        \fig{cover}{Jeff Erickson, 2009}
     }     
\end{frame}
    


\begin{frame}{Origin univalence}{Grayson, 2018}

\begin{columns}[c]
    \column{.5\textwidth}
        \begin{center}
            \begin{figure}[h!]
                \includegraphics[height=.7\textheight]{figures/voevodsky.jpg}
                \caption{Vladimir Voevodsky (1966 - 2017)}
            \end{figure} 
        \end{center}
    \column{.5\textwidth}

            Why is it called ``univalent''?


        \pause

        \begin{quotation}
        ... these foundations seem to be faithful to the way in which I think about mathematical objects in my head ...
        \end{quotation}

        faithful = univalent in a Russion translation of Boardman (2006)

\end{columns}
\end{frame}

\begin{frame}{Personal remark}
The univalence axiom adds:
\begin{itemize}
    \item intuitive explanation of equaity
    \item alternative foundations with types
    \item field of mathematics: HoTT
\end{itemize}

But does not:
\begin{itemize}
    \item make all proofs easier or shorter
    \item eliminate proofs of equivalence
\end{itemize}



\end{frame}

\begin{frame}{Computing with univalence}{Huber, 2015}

What about:
\begin{itemize}
\item implementing HoTT?
\item calculations with very simple types as $\mathbb{N}$?
\end{itemize}

\begin{quotation}
Can we, given a term $t: \mathbb{N}$ constructed using the univalence axiom, construct two terms $u : \mathbb{N}$ and $p : t =_{\mathbb{N}} u$ such that $u$ does not involve the univalence axiom?
\end{quotation}

\pause

 $\Rightarrow$ canonicity of $\mathbb{N}$ in cubical type theory (CTT)

$$ t \equiv ua ( ... )  \rightsquigarrow u \equiv S ( \dots ( 0 ) \ldots ) : \mathbb{N}  $$


\end{frame}




\section{Cubical model}

\begin{frame}{Cubical type theory}{Cohen et al., 2015}

A constructive extension of HoTT with dimension variables $i,j,k : \mathbb{I}$ (cubes) as primitives:

\begin{figure}[h!]
    \includegraphics[width=.7\textwidth]{figures/cubes.png}
    \caption{Discrete ``$n$-cubes''. Huber (2016)}
\end{figure}


\begin{itemize}
\item univalence becomes \emph{constructable}
\item computational interpretation for univalence 
\end{itemize}

\end{frame}


\begin{frame}{Are cubes a good idea?}{EnigmaChord, 2016}

\fig{cube-joke.jpg}{}

\pause

(yes, they model n-dimensional homotopies)

\end{frame}


\begin{frame}{Cubes model homotopy}{Altenkirch, Brunerie, Licata, et. al 2013}
 
Homotopy groups are defined as equivalence classes of \emph{continous} embeddings:
$$[0,1]^n \rightarrow X$$

\begin{quotation}
In HoTT, higher-dimensional eqalities behave like these embeddings
\end{quotation}
\pause

    \begin{table}[]
        \begin{tabular}{@{}llll@{}}
        \toprule
        Level                & Types                & Cubes                 & Topology               \\ \midrule
        1                    & $p,q : (a = b)$        & edge                  & line                   \\
        2                    & $r,s : (p = q)$        & face                  & path homotopy          \\
        ... & ... & ... & ...   \\
        n                    & ... & n-hypercube           & n-dimensional homotopy \\ \bottomrule
        \end{tabular}
    \end{table}

% \begin{figure}
%  \input{figures/squarification.tikz}
%  \caption{ \texttt{P} is an equality (homotopy) between equality $A\ i$ and constant equality at $A \ 0$}
% \end{figure}
\end{frame}

\begin{frame}{Operations on cubes}{Bezem, Coquand, Huber et al., 2013}
 
\begin{columns}[c]
    \column{.5\textwidth}
        \begin{center}
            \begin{figure}[h!]
                \includegraphics[height=.6\textheight]{figures/kan.jpg}
                \caption{Daniel Kan (1927 --- 2013)}
            \end{figure} 
        \end{center}
    \column{.5\textwidth}
        
        Necessary for modelling HoTT:
        
        \begin{itemize}
         \item  composition $\Rightarrow$ equality type
         \item glueing $\Rightarrow$ univalence
        \end{itemize}


        \begin{figure}[h!]
                \includegraphics[height=.4\textheight]{figures/extension.png}
        \end{figure} 

        
\end{columns}
\end{frame}




\begin{frame}{Presheaf model on $\mathcal{C}$}{Dybjer, 1994}
 
 
 
 Give interpretation for stuff in type theory:
 \begin{itemize}
 \item base category $\mathcal{C}$ contains ``extra tools'' for model
 \item every context $\Gamma$ is modelled as presheaf on $\mathcal{C}$, denoted $\widehat{\mathcal{C}}$.
 \item types and terms also interpreted in $\widehat{\mathcal{C}}$
\end{itemize}
%  
%  
%  \begin{itemize}
%   \item types are a presheaf \[\widehat{\int_{\mathcal{C}} \Gamma}\]
%   \item terms are elements of $$\prod _{I \in \mathcal{C}, \rho \in \Gamma (I)} A(I,\rho)$$
%  \end{itemize}

 \pause
 Goals:
 
 \begin{itemize}
  \item verify consistency of type theory in sets
  \item justify primitives for implementations
 \end{itemize}
 
Denoted as ``presheaf model $\widehat{\mathcal{C}}$''.

 
\end{frame}

\begin{frame}{Contexts in  presheaf model $\widehat{\mathcal{C}}$}
 
 \begin{definition}[Presheaves $\widehat{\mathcal{C}}$]
     Contravariant functors $\mathcal{C} \rightarrow \mathbf{Set}$
\end{definition}
     
    
    \begin{itemize}
    \item generalize sheaves (see sheafication)
    \item model contexts
    \end{itemize}
    

    \fig{presheaf.png}{A representation of a preseheaf}

\end{frame}
%    
    
   \begin{frame}[fragile]
   \frametitle{Contexts in presheaf model $\widehat{\{0,1\}}$}
\framesubtitle{Hofstra, 2014}
    \begin{example}[Reflexive directed graph]    
    Take $\mathcal{C} = \{0,1\}$ and $\text{Hom}_{\mathcal{C}}= \{B,E,R\}$, $\Gamma \in \widehat{\{0,1\}}$, then 
    
   
%    \tcol{
%       \[ \begin{tikzcd}
% 1
% \arrow[r, bend left, "B"] 
% \arrow[r, bend right, "E"] 
% & 0
% \arrow[l, "R"{above}]
% \end{tikzcd} \]
%     }
%    {
%    \[ \begin{tikzcd}
% \Gamma (1)
% \arrow[r, bend left, "\Gamma (B)"] 
% \arrow[r, bend right, "\Gamma (E)"] 
% & \Gamma(0) 
% \arrow[l, "\Gamma (R)"{above}]
% \end{tikzcd} \]
%     }
    
    Applying functorial identities:
    \begin{figure}
    \begin{centering}
    \input{figures/reflexive.tikz}    
    \end{centering}
    \caption{Reflexive graph}
    \end{figure}
   \end{example} 
\end{frame}

\begin{frame}{Types in  presheaf model $\widehat{\mathcal{C}}$}
    
    
    \begin{lemma}[Types in a presheaf model]
        If $\Gamma \in \widehat{\mathcal{C}}$ a context, then the types are $ \left\{ (\Delta, \sigma) \mid \Delta \in \widehat{\mathcal{C}}, \sigma \in \text{Hom}_{\text{Ctx}}(\Delta , \Gamma) \right\}$.
     \end{lemma}

     
     Helps to characterize types without using presheaves explicitly.
\end{frame}


\begin{frame}{Types in a presheaf model $\widehat{\{0, 1 \}}$}
  \begin{example}[Dependent directed reflexive graph]
  Applying previous lemma to the type $A$ in $\widehat{\{0, 1 \}}$:
\fig{type_lemma}{Modelled by two contexts and a surjective morphism}
 \end{example}


\end{frame}

\begin{frame}{CTT as a presheaf model}
    Dimension variables and cubes have an abstract representation as ``hypercubes'' in a base category:
    
    \fig{cube_presheaf}{Presheaf acting on cubes}

    \begin{itemize}
        \item proves consistency of CTT and HoTT
        \item justifies primitives used in implementations
    \end{itemize}
    
\end{frame}

\begin{frame}{Cube category}

%  In cubical type theory, $\mathcal{C} \not = \{0, 1\}$ but $\mathcal{C} = \square$.
%  
%  \pause 
%  


  \begin{columns}[c]
    \column{.5\textwidth}
        
    \begin{definition}[``Cube'' $\square$]
    Category with:
        \begin{itemize}
            \item objects: $\{ I \mid |I| < \infty , I \subset \mathbb{A} \}$
            \item morphisms $J\rightarrow I$: maps $I \mapsto dM(J)$
            \begin{itemize}
                \item distributive lattice
                \item  $x \wedge 0 = 0, x\vee 1 = 1$
                \item $\neg 0 = 1$ and $ \neg 1 =0$
            \end{itemize}
        \end{itemize}
        \end{definition}
$\mathbb{A}$: countable set of ``dimension variables'' 
    \column{.5\textwidth}
        \fig{lattice}{A simple lattice}
\end{columns}
 
 
\end{frame}

\begin{frame}{Contexts in presheaf model $\widehat{\square}$}
 
    % Base category:
    %     \[\square \equiv \{ I \mid |I| < \infty , I \subset \mathbb{A} \}\]
    % (with special morphisms)

    \begin{example}[Cubical contexts (``cubical sets'')]
        A presheaf $\Gamma \in \widehat{\square}$ is a functor $\square \rightarrow \mathbf{Set}$

        \begin{itemize}
            \item $\Gamma \in \widehat{\square}$ applied to $\{i,j\}$ gives square $\rho \in \Gamma (i,j)$
            \item morphisms in lattice $dM(i,j)$ give corners of $\rho$

        \end{itemize}
        \begin{figure}
            %\incfig{cubical_set}
            \input{figures/cubes_ink.tikz}
            %\includegraphics[width=0.6\textwidth]{figures/context}
            
            %\caption{a context }
        \end{figure}
    \end{example}
 
\end{frame}

\begin{frame}{Types in presheaf model $\widehat{\square}$}
    Type $A$ can be represented by a context and a morphism on top of $\Gamma$:
    \begin{itemize}
        \item the $\rho \in \Gamma (i)$ is an edge of a square
        \item endpoints $\rho (0), \rho (1)$ can be lifted to points in the type $u(0),u(1) \in A(i,\rho)$
    \end{itemize}

 \begin{figure}
\centering
\includegraphics[width=0.7\textwidth]{figures/types}
\caption{A type $A$ within context $\Gamma$. Huber (2016)}
 \end{figure}
 
\end{frame}

\begin{frame}{Partial types in $\widehat{\square}$}{Bezem, Coquand, Huber 2013}
 Partial type $A\ [(i = 0) \mapsto A(i/0)]$ is a subtype of $A$ on top of sub-subpolyhedron of cubes:
 
\begin{itemize}
    \item $u$ 1-dimensional cube, line and type $A$:
    \item partial type $A(i/0)$ in type $A$:
            \fig{types_side}{Huber, 2015}
\end{itemize}

 
 
\end{frame}

\begin{frame}{Other types in presheaf model $\widehat{\square}$}

In the presheaf model on $\square$:
\begin{itemize}
    \item types more complicated
    \item types no longer simply nested graphs
\end{itemize}


Interpreting types in presheaf model $\square$ hard but possible.


\begin{quotation}
 ... transition from interpretation in model to syntax of types
\end{quotation}


\end{frame}

\begin{frame}{Path type}{Bezem, Coquand, 2013}
 
 Syntactical definition of \texttt{Path} type with typing rules:

\begin{prooftree}
\AxiomC{$ i : \mathbb{I} \vdash t : A$}
\AxiomC{$i : \mathbb{I} \vdash t(i/0) = a : A$}
\AxiomC{$i : \mathbb{I} \vdash t(i/1) = b : A$}
\TrinaryInfC{$() \vdash \left< i \right> t : \texttt{Path} \ a\   b$}

\end{prooftree}

% \begin{prooftree}
% \AxiomC{$\Gamma \vdash t : \pa{A}{u_0}{u_1}$}
% \UnaryInfC{$\Gamma \vdash t 0 = u_0 : A$}
% \end{prooftree}
% 
% \begin{prooftree}
% \AxiomC{$\Gamma \vdash t : \pa{A}{u_0}{u_1}$}
% \UnaryInfC{$\Gamma \vdash t 1 = u_1 : A$}
% \end{prooftree}

\begin{itemize}
 \item almost models equality type
 \item not necessarily transitive $\Rightarrow$ composition operation
\end{itemize}


\begin{figure}
\centering
\input{figures/transitivity.tikz}
\caption{Transitivity can be proven with composition operation.}
\end{figure}

\end{frame}

\begin{frame}{CTT as extension for HoTT}{}
 


 \begin{columns}[c]
    \column{.5\textwidth}
         Other HoTT types interpreted in CTT:
 \begin{itemize}
  \item product, sum types
  \item natural numbers
 \end{itemize}
 
        Univalence proven with concepts from (Streicher, Voevodsky, Kapulkin et al. 2006 -- 2012):
        \begin{itemize}
        \item simplicial sets replaced by cubical sets
        \item partial types and glueing construction conserved
       \end{itemize}
    \column{.5\textwidth}
        \begin{figure}
       \includegraphics[width=0.7\textwidth]{figures/simplex}
       \caption{Every simplicial complex is a simplicial set}
       \end{figure}
\end{columns}
 
\end{frame}



% \begin{frame}{Equivalences}
%     {Kapulkin, 2012}
  
%   Equivalences $f : T \rightarrow A$ are crucial ingredient for the univalence axiom:
%   \begin{itemize}
%    \item correspond to homotopy equivalences
%    \item have inverse up-to some paths
%   \end{itemize}

  
%    \texttt{Glue} type was introduced to prove univalence:
%    \begin{itemize}
%     \item let \(T\) be a partial type, defined on $i\in \{0,1\}$ 
%     \item glues partial equivalence $f$ and partial type $T$ together:
%    \end{itemize}

%  \fig{glue}{Cohen, 2015}

  
 
% \end{frame}




\begin{frame}{Proving univalence}{Cohen, Coquand, Huber, Moertberg (2015)}

\begin{axiom}[Univalence axiom]
 Given types $X,Y : \mathcal{U}$ for some universe $\mathcal{U}$, there is a map  $\Phi_{X,Y}: (X=Y) \rightarrow (X \simeq Y)$ that is an equivalence of types. 
\end{axiom}


 

\begin{proof}

\begin{enumerate}

\item existence $\texttt{ua} : (X\simeq Y) \rightarrow (X = Y)$ with \texttt{Glue} construction.

\item for any partial $f : X \rightarrow Y$, $\texttt{Glue} \ [\varphi \mapsto (X, f)] \ Y \simeq Y$

\item for any type $Y$, $\sum_{X} X \simeq Y$ contractible

\item existence of an equivalence ``eliminator''.

\item the trivial map $p : X = Y \rightarrow X \simeq Y$ is an inverse ``up-to-path'' of \texttt{ua}
%  
%  $$i : \mathbb{I} \vdash E= \texttt{Glue} \left[ (i=0) \mapsto (X, f),(i=1) \mapsto\left(Y, \texttt{id}_{Y}\right) \right] Y$$
%  
%  $E$ is a path (equality) from $X$ to $Y$.
 
 \end{enumerate}
 
    $\Rightarrow$ the map \texttt{ua}$\equiv \Phi_{X,Y}$ is equivalence
\end{proof} 

\end{frame}


\begin{frame}[fragile]
\frametitle{Constructing \texttt{ua}}
    \begin{definition}
        $\texttt{ua} : \forall \ X\ Y:\type, X \simeq Y \rightarrow X = Y$
        
        \[ \begin{tikzcd}
        X \arrow[r, dash, dashed, "\texttt{ua}\ f" ] \arrow[d, "f"] & Y  \arrow[d, "\texttt{idEquiv} \ Y"]  \\
        Y\arrow[r, dash, ""] & Y  
        \end{tikzcd}
        \]
        
        
        \end{definition}

    Input: 
    \begin{itemize}
        \item partial equivalence $f$, type $X$
        \item a dimension variable or parameter $i$
    \end{itemize}
    Output: 
    \begin{itemize}
\item $\texttt{ua}\ f \equiv \texttt{Glue} \ [(i = 0) \mapsto (X,f), (i=1) \mapsto (X, \texttt{idEquiv} \ Y)] \ Y$
\item $\texttt{ua}\ f$ is path with endpoints $X$ and $Y$. 
\end{itemize}
\end{frame}

\section{Applications}


\begin{frame}{Applying \texttt{ua} from univalence }
 

 \begin{example}[Monoids]
 
 $$M_1  \equiv (\mathbb{N}, (m,n)\mapsto m+n, 0)$$ and $$M_2 \equiv (\mathbb{N}_0, (m,n)\mapsto m+n -1, 1)$$
\begin{itemize}
 \item  are isomorphic by $$\lambda n \rightarrow n + 1 $$ 
 \item (path-) equal in CTT
\end{itemize}
 
 \end{example}
 

 
\end{frame}

\begin{frame}[fragile]
\frametitle{Definition of a \st{monoid} magma}
%{Building a path}

setoid encoding uses operator ``\texttt{â}'' and equivalence ``\texttt{â}'':

\begin{figure}
\begin{BVerbatim}
notZero n = Î£ â (Î» m â (n â¡ (suc m)))
ââ = Î£ â (Î» n â notZero n) 

opâ : Opâ ââ
opâ (x , p)  (y , q) = 
    (predâ (x + y) , (predâ (predâ (x + y)) , sumLem x y p q) )

Mâ : Algebra.Magma _ _
Mâ = record { 
  Carrier = ââ ;
  _â_ = (_â¡_) ;
  _â_ = opâ ;
  isMagma = ... ,
  }
\end{BVerbatim}
\end{figure}
 
\end{frame}

\begin{frame}[fragile]
\frametitle{Equality of carrier sets}

 $\mathbb{N} \rightarrow \mathbb{N}_0: n\mapsto n + 1 $ is bijection
 
 \begin{itemize}
  \item is equivalence of (set-like) types
  \item univalence/\texttt{ua} returns equality \texttt{â â¡ ââ}
 \end{itemize}
 
 
 \begin{figure}
 \begin{BVerbatim}
f : â â ââ 
f n = (suc n , ( n , refl ) )
...
fEquiv : â â ââ 
fEquiv = (f ,  isoToIsEquiv (iso f g l' r'))

fEq : â â¡ ââ 
fEq = ua fEquiv
 \end{BVerbatim}
\end{figure}

\end{frame}





\begin{frame}[fragile]
\frametitle{Equality of \st{monoids} magmas}

Defined for every component of record type:

\begin{figure}
\begin{BVerbatim}
mPath : sâ â¡ sâ
mPath = Î» i â record {
   Carrier = (fEq i) ;
   _â_ =  _â¡_;
   _â_ = transOp' i ;
   isMagma = ...
     }
   }
\end{BVerbatim}
\end{figure}

\texttt{transOp'} defined by transporting along \texttt{â â¡ ââ}, proofs can be transported over \texttt{sâ â¡ sâ}.

\end{frame}

\begin{frame}{Higher homotopies of spheres}{}

    Types in HoTT and CTT are topological spaces.
    Higher homotopy groups compute number of higher-dimensional holes in $S^n$:

    \fig{groups}{HoTT Book, 2013}
    Homotopy groups can be defined in CTT as datatypes

\end{frame}


\begin{frame}{Implementation in CTT}{Brunerie, 2016}

 \begin{columns}%[c]
    \column{.6\textwidth}
        
        \begin{theorem}
            $\pi _ 4 (S^3) \cong \mathbb{Z}_n$ for $n=2$ 

            \end{theorem}
            \begin{itemize}
            \item proven in HoTT with univalence
            \item $n$ implemented in CTT as a function
            \item canonicity predicts termination
            \end{itemize}
        (bug in Agda or CTT prevents evaluation)

        \column{.4\textwidth}
            \begin{figure}
                \includegraphics[height=0.4\textheight]{figures/loops}
                \caption{The case $S^1$ is simply $\mathbb{Z}$  (drawing from science4all)}
            \end{figure}
    \end{columns}

\end{frame}

\section*{Summary}


\begin{frame}{Recent papers}{Licata, Harper, Cavallo, Orton et al.}
    \begin{itemize}
        \item computational type theory is an alternative implementation \cite{Angiuli2018}
        \item composition operation CTT may not be too strong \cite{Cavallo2019}
        \item modelling $\widehat{\square}$ and \texttt{Glue} with language of topoi to simplify CTT and composition operations \cite{Orton2019} 
    \end{itemize}
    
    
    \end{frame}



\begin{frame}{Summary}

    \begin{itemize}
        \item HoTT redefines equality
        \item CTT implements HoTT
        \item HoTT can be verified in computers 
    \end{itemize}



\end{frame}

\appendix

\section*{Appendix}

\subsection*{For Further Reading}
\begin{frame}[allowframebreaks]{For Further Reading}

Thanks for watching!

\bibliographystyle{amsalpha}
\bibliography{../../../../Referenties/library}
\end{frame}

\end{document}
